import{s as c,N as s}from"./app-mBL9h0wB.js";import{a as m}from"./authGuard-B__Noovl.js";m();const l=new s,r=new URLSearchParams(window.location.search),a=r.get("id");a||c("No post ID found in URL","error");async function u(){const e=await l.post.view(a);document.getElementById("title").value=e.title||"",document.getElementById("body").value=e.body||"",document.getElementById("mediaUrl").value=e.media?.url||"",document.getElementById("mediaAlt").value=e.media?.alt||""}u();async function f(e){e.preventDefault();const d=document.getElementById("title").value.trim(),i=document.getElementById("body").value.trim(),o=document.getElementById("mediaUrl").value.trim(),n=document.getElementById("mediaAlt").value.trim(),t={};d&&(t.title=d),i&&(t.body=i),(o||n)&&(t.media={},o&&(t.media.url=o),n&&(t.media.alt=n)),await l.post.update(t,a)}document.getElementById("edit-post-form").addEventListener("submit",f);m();const p=new s,y=new URLSearchParams(window.location.search),w=y.get("id");async function I(){confirm("Are you sure you want to delete this post?")&&await p.post.delete(w)}document.getElementById("delete-post-btn").addEventListener("click",I);
